webpackJsonp([1],{"0TwS":function(t,e){},"0pbh":function(t,e){},APs4:function(t,e){},Alu5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},s,!1,function(t){n("APs4")},null,null).exports,a=n("/ocq"),r=n("//Fk"),u=n.n(r),c=n("mvHQ"),d=n.n(c),l=function(t){if(!t)return"";var e=localStorage.getItem(t);return e?JSON.parse(e):""},m=function(t,e){t&&void 0!==e&&null!==e&&localStorage.setItem(t,d()(e))},p="user-meta",f="user-",h="content-meta",v="content-",g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments[1];return new u.a(function(n,o){try{var s=l(h).map(function(t){return l(""+v+t)});s=s.filter(function(n){return e?n.parent===e:n.depth===t}),setTimeout(function(){n(s)},1e3)}catch(t){o(t)}})},_=function(t){if(t){var e=l(h)||[];e.includes(t.id)||e.push(t.id),m(h,e),m(""+v+t.id,t)}},b=function(){return"xxxxxxxx-xxxx-Sxxx-Uxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},x=function(t,e,n){return n>1?e:t},y={data:function(){return{}},props:{url:{required:!0,type:String},size:{type:String,default:"small"}}},C={render:function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"user-icon",class:{"user-icon--small":"small"===this.size,"user-icon--medium":"small"!==this.size},attrs:{src:this.url,alt:""}})},staticRenderFns:[]};var q=n("VU/8")(y,C,!1,function(t){n("tkRk")},"data-v-3eee6594",null).exports,S={data:function(){return{content:""}},methods:{onSend:function(){this.content.length&&(this.$emit("onSend",{content:this.content,postedOn:+new Date}),this.content="",this.adjustTextAreaSize())},adjustTextAreaSize:function(){if(this.isPrimary){var t=this.$el.querySelector("textarea");t.style.fontSize=t.textLength>0?t.textLength>80?"15px":"20px":"15px;",t.style.height="",t.style.height=t.scrollHeight+"px"}},onInput:function(){this.adjustTextAreaSize()},focusInput:function(){this.$el.querySelector("textarea").focus()}},components:{UserIcon:q},watch:{initContent:function(t){this.content=t.content,this.focusInput()}},props:{placeholder:{type:String,default:"Write a comment"},initContent:{type:Object},isPrimary:{type:Boolean,default:!1}},computed:{iconSize:function(){return this.isPrimary?"medium":"small"},currentUserIcon:function(){return this.$store.state.currentUser.image}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"new-post",class:{"new-post--primary":t.isPrimary,"new-post--secondary":!t.isPrimary},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.onSend(e))}}},[n("UserIcon",{staticClass:"new-post__img",attrs:{url:t.currentUserIcon,size:t.iconSize}}),t._v(" "),n("div",{staticClass:"new-post__content"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{placeholder:t.placeholder,rows:"1"},domProps:{value:t.content},on:{input:[function(e){e.target.composing||(t.content=e.target.value)},t.onInput]}})]),t._v(" "),n("div",{staticClass:"new-post__control-buttons"},[n("div",{staticClass:"new-post__control-buttons__send",on:{click:t.onSend}},[t._v("Send")])])],1)},staticRenderFns:[]};var w=n("VU/8")(S,U,!1,function(t){n("0TwS")},"data-v-1d876ff5",null).exports,P=function(t){if(e=t,"[object Number]"!==Object.prototype.toString.call(e))return"";var e,n=+new Date,o=Math.floor((n-t)/1e3);if(0===o)return"just now";if(o<60)return"a few sec. ago";if(60===o||o<120)return"1 minute ago";if(o>120&&o<3600)return Math.floor(o/60)+" min. ago";if(3600===o&&o<7200)return"1 hour ago";if(o>=7200&&o<86400)return Math.floor(o/3600)+" hours ago";if(o>=86400&&o<172800)return"1 day ago";if(o>=172800||o<2592e3)return Math.floor(o/86400)+" days ago";var s=new Date(t);return s.toLocaleDateString()+" "+s.toLocaleTimeString()},L={name:"PostMeta",data:function(){return{url:"static/faces/2.jpg",postTime:""}},components:{UserIcon:q},methods:{getPostTime:function(t){return P(t)}},props:["meta"],beforeMount:function(){var t=this;this.postTime=this.getPostTime(this.meta.postedOn),setInterval(function(){t.postTime=t.getPostTime(t.meta.postedOn)},6e3)},computed:{user:function(){var t=this.$store.state.userData[this.meta.userId];return t||{}}}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post__meta"},[n("UserIcon",{staticClass:"post__meta__icon",attrs:{url:t.user.image,size:"medium"}}),t._v(" "),n("div",[n("div",{staticClass:"post__meta__user-name"},[t._v(t._s(t.user.name))]),t._v(" "),n("div",{staticClass:"post__meta__time"},[t._v(t._s(t.postTime))])])],1)},staticRenderFns:[]};var k=n("VU/8")(L,O,!1,function(t){n("Y0XE")},null,null).exports,I={render:function(){var t=this.$createElement,e=this._self._c||t;return this.textOnly?e("div",{staticClass:"loading__text"},[this._v("Loading...")]):e("svg",{attrs:{width:"200px",height:"200px",viewBox:"0 0 100 100"}},[e("circle",{attrs:{cx:"50",cy:"50",fill:"none",stroke:"#ff7133","stroke-width":"3",r:"10","stroke-dasharray":"47.12388980384689 17.707963267948966",transform:"rotate(347.9 50.0001 50)"}},[e("animateTransform",{attrs:{attributeName:"transform",type:"rotate",calcMode:"linear",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}})],1)])},staticRenderFns:[]};var T=n("VU/8")({props:["textOnly"]},I,!1,function(t){n("Alu5")},null,null).exports,$={props:{type:{type:String,default:"secondary"},value:{type:String,required:!0},size:{type:String}},methods:{onClick:function(t){this.$emit("click",t)}}},A={render:function(){var t=this.$createElement;return(this._self._c||t)("a",{class:{primary:"primary"===this.type,secondary:"primary"!==this.type,small:"small"===this.size},on:{click:this.onClick}},[this._v("\n  "+this._s(this.value)+"\n")])},staticRenderFns:[]};var R=n("VU/8")($,A,!1,function(t){n("n6MU")},null,null).exports,z={methods:{toggle:function(){this.$emit("toggleChild")},getPlural:x},props:{depth:{type:Number,required:!0},count:{type:Number,required:!0}},components:{Link:R},computed:{secondaryText:function(){return this.depth>2?"":this.count+" "+(1===this.depth?x("Comment","Comments",this.count):x("Reply","Replies",this.count))}}},D={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"control-box"},[e("Link",{attrs:{value:1===this.depth?"Comment":"Reply",type:"primary"},on:{click:this.toggle}}),this._v(" "),e("Link",{attrs:{value:this.secondaryText,type:"secondary"},on:{click:this.toggle}})],1)},staticRenderFns:[]};var N={name:"ContentBox",components:{PostMeta:k,NewPost:w,Loading:T,ContentBoxControl:n("VU/8")(z,D,!1,function(t){n("aOzJ")},null,null).exports,Link:R},data:function(){return{showChild:!1,isNewContentBoxVisible:!1,replyData:{},isLoading:!1}},methods:{getPlural:x,loadChild:function(){this.isLoading=!0;var t=this;g(this.content.depth+1,this.content.id).then(function(e){t.$set(t.content,"nodes",e||[]),t.showChild=!0,t.isLoading=!1})},toggleChild:function(){this.content.depth<=2?this.showChild?this.showChild=!1:this.loadChild():this.$emit("reply",{replyTo:this.content.userId})},addChild:function(t){var e,n,o,s;this.content.comments+=1,e=this.content,n="comments",o=this.content.comments,(s=l(""+v+e.id))&&(s[n]=o,m(""+v+e.id,s));var i={content:t.content,postedOn:t.postedOn||+new Date,depth:this.content.depth+1,parent:this.content.id,comments:0,id:b(),userId:this.$store.state.currentUser.id};this.content.nodes.push(i),_(i)},onReply:function(t){var e="@"+this.$store.state.userData[t.replyTo].username+" ";this.replyData={on:+new Date,content:e}}},computed:{hideChildText:function(){return"Hide "+(1===this.depth?x("Comment","Comments",this.childCount):x("Reply","Replies",this.childCount))},childCount:function(){return this.content.comments||0},sortedNestedContent:function(){return this.content&&this.content.nodes?this.content.nodes.slice().sort(function(t,e){return e.postedOn-t.postedOn}):[]}},props:["content","depth"]},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.content?n("div",{staticClass:"content-box"},[n("PostMeta",{attrs:{meta:t.content}}),t._v(" "),n("div",{staticClass:"content-box__indent"},[n("div",{staticClass:"content__description",domProps:{innerHTML:t._s(t.content.content)}}),t._v(" "),n("ContentBoxControl",{attrs:{count:t.childCount,depth:t.depth},on:{toggleChild:t.toggleChild}})],1),t._v(" "),n("div",{staticClass:"content-box__indent"},[n("transition",{attrs:{mode:"out-in"}},[t.isLoading?n("Loading",{attrs:{"text-only":"true"}}):t.showChild?n("div",{staticClass:"content-box__nested"},[n("NewPost",{attrs:{"init-content":t.replyData},on:{onSend:t.addChild}}),t._v(" "),t.content.nodes&&t.childCount?n("Link",{attrs:{value:t.hideChildText,size:"small"},on:{click:t.toggleChild}}):t._e(),t._v(" "),n("transition-group",t._l(t.sortedNestedContent,function(e){return n("ContentBox",{key:e.id,attrs:{content:e,depth:t.depth+1},on:{reply:t.onReply}})}),1)],1):t._e()],1)],1)],1):t._e()},staticRenderFns:[]};var M={name:"PostWrapper",data:function(){return{msg:"Welcome to Your Vue.js App"}},computed:{sortedPosts:function(){return this.posts&&this.posts.length?this.posts.slice().sort(function(t,e){return e.postedOn-t.postedOn}):[]}},components:{UserIcon:q,PostMeta:k,ContentBox:n("VU/8")(N,E,!1,function(t){n("bty4")},null,null).exports},props:["posts"]},V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"posts"},[e("transition-group",{attrs:{name:"list"}},this._l(this.sortedPosts,function(t){return e("ContentBox",{key:t.id,staticClass:"post",attrs:{content:t,depth:1}})}),1)],1)},staticRenderFns:[]};var j={beforeMount:function(){var t,e=this;u.a.all([g(),new u.a(function(e,n){try{var o=l(p).map(function(t){return l(""+f+t)});t&&(o=o.filter(function(e){return e.id===t})[0]),setTimeout(function(){e(o)},1e3)}catch(t){n(t)}})]).then(function(t){e.$set(e,"postData",t[0]),e.$store.dispatch("setUsers",t[1]),e.$store.commit("setCurrentUser",t[1][0]),e.isLoading=!1})},data:function(){return{postData:[],isLoading:!0,currentUser:""}},methods:{sendNewPost:function(t){var e={content:t.content,postedOn:t.postedOn,depth:1,comments:0,id:b(),userId:this.$store.state.currentUser.id};this.postData.push(e),_(e)}},components:{NewPost:w,PostWrapper:n("VU/8")(M,V,!1,function(t){n("0pbh")},null,null).exports,Loading:T}},F={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"comment-system"},[this.isLoading?this._e():e("NewPost",{staticClass:"comment-system__new-post",attrs:{placeholder:"What's on mind?",isPrimary:!0},on:{onSend:this.sendNewPost}}),this._v(" "),e("transition",{attrs:{mode:"out-in"}},[this.isLoading?e("Loading"):e("PostWrapper",{attrs:{posts:this.postData}})],1)],1)},staticRenderFns:[]};var B=n("VU/8")(j,F,!1,function(t){n("smKP")},"data-v-aac3fd9c",null).exports;o.a.use(a.a);var H=new a.a({routes:[{path:"/",name:"Home",component:B}]}),W=n("NYxO");o.a.use(W.a);var K=new W.a.Store({state:{userData:{}},mutations:{addUsers:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(e){t.userData[e.id]=e})},setCurrentUser:function(t,e){t.currentUser=e}},actions:{setUsers:function(t,e){t.commit("addUsers",e)}}}),Y=n("OhGP"),J=n.n(Y),G=n("zyVY"),X=n.n(G);l(h)&&l(p)||(J.a.forEach(function(t){_(t)}),X.a.forEach(function(t){!function(t){if(t){var e=l(p)||[];e.includes(t.id)||e.push(t.id),m(p,e),m(""+f+t.id,t)}}(t)})),o.a.config.productionTip=!1,new o.a({el:"#app",router:H,store:K,components:{App:i},template:"<App/>"})},OhGP:function(t,e){t.exports=[{id:"f3fb76e2-4d22-S994-Udd9-1b5fae242e93",postedOn:1553381875484,content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A asperiores, at consequatur cumque dolores fuga id illum ipsum itaque iusto molestiae mollitia nemo nostrum odio odit pariatur quas qui quo repellat sed sunt ut vel velit vero voluptatum. Consectetur, earum.",depth:1,nodes:[],comments:0,userId:"6a6321c1-9958-S78b-Uc6c-e8f6035b5f60"},{content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A asperiores, at consequatur cumque dolores fuga id illum ipsum itaque iusto molestiae mollitia nemo nostrum odio odit pariatur quas qui quo repellat sed sunt ut vel velit vero voluptatum. Consectetur, earum.",postedOn:1551381875484,id:"f3fb16e2-4d22-S994-Udd9-1b5fae242e93",depth:1,comments:3,nodes:[],userId:"fa0c645c-cee8-Scb8-U078-935d5e3e3293"},{id:"f3fb76e2-4d22-S394-Udd9-1b5fae242e93",postedOn:1551381375484,content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A asperiores, at consequatur cumque dolores fuga id illum ipsum itaque iusto molestiae mollitia nemo nostrum odio odit pariatur quas qui quo repellat sed sunt ut vel velit vero voluptatum. Consectetur, earum.",depth:2,parent:"f3fb16e2-4d22-S994-Udd9-1b5fae242e93",comments:0,nodes:[],userId:"fa0c645c-cee8-Scb8-U078-935d5e3e3293"},{postedOn:1553381875124,id:"a97d9b68-c14b-S6fc-Ua19-64012ea252a7",depth:2,parent:"f3fb16e2-4d22-S994-Udd9-1b5fae242e93",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A asperiores, at consequatur cumque dolores fuga id illum ipsum itaque iusto molestiae mollitia nemo nostrum odio odit pariatur quas qui quo repellat sed sunt ut vel velit vero voluptatum. Consectetur, earum.",comments:0,nodes:[],userId:"67833f65-ddde-S87d-U46c-b91b9c063958"},{postedOn:1553381175124,id:"60105dbb-fa04-S8a8-U101-3fef5a168cc3",depth:2,comments:5,parent:"f3fb16e2-4d22-S994-Udd9-1b5fae242e93",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A asperiores, at consequatur cumque dolores fuga id illum ipsum itaque iusto molestiae mollitia nemo nostrum odio odit pariatur quas qui quo repellat sed sunt ut vel velit vero voluptatum. Consectetur, earum.",nodes:[],userId:"fa0c645c-cee8-Scb8-U078-935d5e3e3293"},{id:"205bd1ca-53cd-Sb41-U05c-f94dbabd922c",postedOn:1551341875484,content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A asperiores, at consequatur cumque dolores fuga id illum ipsum itaque iusto molestiae mollitia nemo nostrum odio odit pariatur quas qui quo repellat sed sunt ut vel velit vero voluptatum. Consectetur, earum.",depth:3,parent:"60105dbb-fa04-S8a8-U101-3fef5a168cc3",comments:0,nodes:[],userId:"67833f65-ddde-S87d-U46c-b91b9c063958"},{postedOn:1551581875484,id:"a35d02e0-7330-Sbc6-Uade-d645854749fd",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A asperiores, at consequatur cumque dolores fuga id illum ipsum itaque iusto molestiae mollitia nemo nostrum odio odit pariatur quas qui quo repellat sed sunt ut vel velit vero voluptatum. Consectetur, earum.",depth:3,parent:"60105dbb-fa04-S8a8-U101-3fef5a168cc3",comments:0,nodes:[],userId:"fa0c645c-cee8-Scb8-U078-935d5e3e3293"},{postedOn:1551382875484,id:"b772a9cb-3fa8-Sfc3-U8e1-1253a027f140",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A asperiores, at consequatur cumque dolores fuga id illum ipsum itaque iusto molestiae mollitia nemo nostrum odio odit pariatur quas qui quo repellat sed sunt ut vel velit vero voluptatum. Consectetur, earum.",depth:3,parent:"60105dbb-fa04-S8a8-U101-3fef5a168cc3",comments:0,nodes:[],userId:"6a6321c1-9958-S78b-Uc6c-e8f6035b5f60"},{postedOn:1553311875484,id:"e5420e6e-8a62-Sa0f-Ued4-cde831a3f528",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A asperiores, at consequatur cumque dolores fuga id illum ipsum itaque iusto molestiae mollitia nemo nostrum odio odit pariatur quas qui quo repellat sed sunt ut vel velit vero voluptatum. Consectetur, earum.",depth:3,parent:"60105dbb-fa04-S8a8-U101-3fef5a168cc3",comments:0,nodes:[],userId:"fa0c645c-cee8-Scb8-U078-935d5e3e3293"},{postedOn:1553331875484,id:"b2141411-70c2-S4a0-Ua95-65bbbf7f0e81",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A asperiores, at consequatur cumque dolores fuga id illum ipsum itaque iusto molestiae mollitia nemo nostrum odio odit pariatur quas qui quo repellat sed sunt ut vel velit vero voluptatum. Consectetur, earum.",parent:"e5420e6e-8a62-Sa0f-Ued4-cde831a3f528",depth:4,comments:0,nodes:[],userId:"6a6321c1-9958-S78b-Uc6c-e8f6035b5f60"},{postedOn:1553381875484,id:"115dbfee-62bd-Sb96-U991-e6d515775530",content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A asperiores, at consequatur cumque dolores fuga id illum ipsum itaque iusto molestiae mollitia nemo nostrum odio odit pariatur quas qui quo repellat sed sunt ut vel velit vero voluptatum. Consectetur, earum.",parent:"e5420e6e-8a62-Sa0f-Ued4-cde831a3f528",depth:4,comments:3,nodes:[],userId:"6a6321c1-9958-S78b-Uc6c-e8f6035b5f60"}]},Y0XE:function(t,e){},aOzJ:function(t,e){},bty4:function(t,e){},n6MU:function(t,e){},smKP:function(t,e){},tkRk:function(t,e){},zyVY:function(t,e){t.exports=[{name:"Akansh Gulati",id:"fa0c645c-cee8-Scb8-U078-935d5e3e3293",email:"akansh@gmail.com",username:"akansh",image:"/static/faces/2.jpg"},{name:"Silvia",id:"67833f65-ddde-S87d-U46c-b91b9c063958",email:"silvia@gmail.com",username:"silvia",image:"/static/faces/1.jpg"},{name:"Sussan",id:"6a6321c1-9958-S78b-Uc6c-e8f6035b5f60",email:"sussan@gmail.com",username:"sussan",image:"/static/faces/3.jpg"}]}},["NHnr"]);
//# sourceMappingURL=app.6dbe01b0a698f63c6c21.js.map